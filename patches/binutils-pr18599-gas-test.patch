From a73eee09f482be5e00d0865114064251dbccc9ef Mon Sep 17 00:00:00 2001
From: "H.J. Lu" <hjl.tools@gmail.com>
Date: Sat, 27 Jun 2015 11:23:04 -0700
Subject: [PATCH 2/4] Update gas tests

---
 gas/testsuite/gas/i386/ilp32/x86-64-unwind.d |  7 +++----
 gas/testsuite/gas/i386/x86-64-unwind.d       | 10 ++++------
 gas/testsuite/gas/ia64/alias-ilp32.d         |  7 +++----
 gas/testsuite/gas/ia64/alias.d               | 10 ++++------
 gas/testsuite/gas/ia64/group-1.d             | 10 ++++------
 gas/testsuite/gas/ia64/group-2.d             | 10 ++++------
 gas/testsuite/gas/ia64/secname-ilp32.d       |  7 +++----
 gas/testsuite/gas/ia64/secname.d             | 10 ++++------
 gas/testsuite/gas/ia64/unwind-ilp32.d        |  7 +++----
 gas/testsuite/gas/ia64/unwind.d              | 10 ++++------
 gas/testsuite/gas/ia64/xdata-ilp32.d         |  7 +++----
 gas/testsuite/gas/ia64/xdata.d               |  8 +++-----
 gas/testsuite/gas/mmix/bspec-1.d             |  2 +-
 gas/testsuite/gas/mmix/bspec-2.d             |  2 +-
 gas/testsuite/gas/mmix/byte-1.d              | 10 ++++------
 gas/testsuite/gas/mmix/comment-1.d           |  2 +-
 gas/testsuite/gas/mmix/group-1.d             |  2 +-
 gas/testsuite/gas/mmix/loc-1.d               | 10 ++++------
 gas/testsuite/gas/mmix/loc-2.d               | 10 ++++------
 gas/testsuite/gas/mmix/loc-3.d               | 10 ++++------
 gas/testsuite/gas/mmix/loc-4.d               | 10 ++++------
 gas/testsuite/gas/mmix/loc-5.d               | 10 ++++------
 gas/testsuite/gas/tic6x/scomm-directive-4.d  |  7 +++----
 23 files changed, 73 insertions(+), 105 deletions(-)

diff --git a/gas/testsuite/gas/i386/ilp32/x86-64-unwind.d b/gas/testsuite/gas/i386/ilp32/x86-64-unwind.d
index 4f6f155..702ce23 100644
--- a/gas/testsuite/gas/i386/ilp32/x86-64-unwind.d
+++ b/gas/testsuite/gas/i386/ilp32/x86-64-unwind.d
@@ -2,7 +2,7 @@
 #readelf: -S
 #name: x86-64 (ILP32) unwind
 
-There are 8 section headers, starting at offset 0x[0-9a-f]+:
+There are 7 section headers, starting at offset 0x[0-9a-f]+:
 
 Section Headers:
   \[Nr\] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
@@ -11,9 +11,8 @@ Section Headers:
   \[ 2\] .data             PROGBITS        00000000 000034 000000 00  WA  0   0  1
   \[ 3\] .bss              NOBITS          00000000 000034 000000 00  WA  0   0  1
   \[ 4\] .eh_frame         X86_64_UNWIND   00000000 000034 000008 00   A  0   0  1
-  \[ 5\] .shstrtab         STRTAB          00000000 [0-9a-f]+ 000036 00      0   0  1
-  \[ 6\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000050 10      7   5  4
-  \[ 7\] .strtab           STRTAB          00000000 [0-9a-f]+ 000001 00      0   0  1
+  \[ 5\] .strtab           STRTAB          00000000 [0-9a-f]+ 00002c 00      0   0  1
+  \[ 6\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000050 10      5   5  4
 Key to Flags:
   W \(write\), A \(alloc\), X \(execute\), M \(merge\), S \(strings\), l \(large\)
   I \(info\), L \(link order\), G \(group\), T \(TLS\), E \(exclude\), x \(unknown\)
diff --git a/gas/testsuite/gas/i386/x86-64-unwind.d b/gas/testsuite/gas/i386/x86-64-unwind.d
index 613760f..b605717 100644
--- a/gas/testsuite/gas/i386/x86-64-unwind.d
+++ b/gas/testsuite/gas/i386/x86-64-unwind.d
@@ -1,7 +1,7 @@
 #readelf: -S
 #name: x86-64 unwind
 
-There are 8 section headers, starting at offset 0x[0-9a-f]+:
+There are 7 section headers, starting at offset 0x[0-9a-f]+:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -16,11 +16,9 @@ Section Headers:
        0000000000000000  0000000000000000  WA       0     0     1
   \[ 4\] \.eh_frame         X86_64_UNWIND    0000000000000000  00000040
        0000000000000008  0000000000000000   A       0     0     1
-  \[ 5\] \.shstrtab         STRTAB           0000000000000000  [0-9a-f]+
-       0000000000000036  0000000000000000           0     0     1
+  \[ 5\] \.strtab           STRTAB           0000000000000000  [0-9a-f]+
+       000000000000002c  0000000000000000           0     0     1
   \[ 6\] \.symtab           SYMTAB           0000000000000000  [0-9a-f]+
-       0000000000000078  0000000000000018           7     5     8
-  \[ 7\] \.strtab           STRTAB           0000000000000000  [0-9a-f]+
-       0000000000000001  0000000000000000           0     0     1
+       0000000000000078  0000000000000018           5     5     8
 Key to Flags:
 #...
diff --git a/gas/testsuite/gas/ia64/alias-ilp32.d b/gas/testsuite/gas/ia64/alias-ilp32.d
index d882b3c..7ec7c0b 100644
--- a/gas/testsuite/gas/ia64/alias-ilp32.d
+++ b/gas/testsuite/gas/ia64/alias-ilp32.d
@@ -3,7 +3,7 @@
 #as: -milp32
 #source: alias.s
 
-There are 8 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Addr +Off +Size +ES +Flg +Lk +Inf +Al
@@ -12,9 +12,8 @@ Section Headers:
  +\[ 2\] .data +PROGBITS +00000000 000040 000000 00 +WA +0 +0 +1
  +\[ 3\] .bss +NOBITS +00000000 000040 000000 00 +WA +0 +0 +1
  +\[ 4\] 1234 +PROGBITS +00000000 000040 000005 00 +WA +0 +0 +1
- +\[ 5\] .shstrtab +STRTAB +00000000 [0-9a-f]+ 000031 00 +0 +0 +1
- +\[ 6\] .symtab +SYMTAB +00000000 [0-9a-f]+ 000060 10 +7 +6 +4
- +\[ 7\] .strtab +STRTAB +00000000 [0-9a-f]+ 000006 00 +0 +0 +1
+ +\[ 5\] .strtab +STRTAB +00000000 [0-9a-f]+ 00002c 00 +0 +0 +1
+ +\[ 6\] .symtab +SYMTAB +00000000 [0-9a-f]+ 000060 10 +5 +6 +4
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/ia64/alias.d b/gas/testsuite/gas/ia64/alias.d
index 398bff4..b265fb6 100644
--- a/gas/testsuite/gas/ia64/alias.d
+++ b/gas/testsuite/gas/ia64/alias.d
@@ -1,7 +1,7 @@
 #readelf: -Ss
 #name: ia64 alias and secalias
 
-There are 8 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -16,12 +16,10 @@ Section Headers:
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
  +\[ 4\] 1234 +PROGBITS +0000000000000000 +00000040
  +0000000000000005 +0000000000000000 +WA +0 +0 +1
- +\[ 5\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +0000000000000031 +0000000000000000 +0 +0 +1
+ +\[ 5\] \.strtab +STRTAB +0000000000000000 .*
+ +000000000000002c +0000000000000000 +0 +0 +1
  +\[ 6\] \.symtab +SYMTAB +0000000000000000 .*
- +0000000000000090 +0000000000000018 +7 +6 +8
- +\[ 7\] \.strtab +STRTAB +0000000000000000 .*
- +0000000000000006 +0000000000000000 +0 +0 +1
+ +0000000000000090 +0000000000000018 +5 +6 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/ia64/group-1.d b/gas/testsuite/gas/ia64/group-1.d
index 3ae3c80..c46e701 100644
--- a/gas/testsuite/gas/ia64/group-1.d
+++ b/gas/testsuite/gas/ia64/group-1.d
@@ -1,7 +1,7 @@
 #readelf: -Sg
 #name: ia64 group
 
-There are 9 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -18,12 +18,10 @@ Section Headers:
        0000000000000000  0000000000000000  WA       0     0     1
   \[ 5\] \.text             PROGBITS         0000000000000000  00000050
        0000000000000010  0000000000000000 AXG       0     0     16
-  \[ 6\] \.shstrtab         STRTAB           0000000000000000  [0-9a-f]+
-       0000000000000033  0000000000000000           0     0     1
+  \[ 6\] \.strtab           STRTAB           0000000000000000  .*
+       000000000000002f  0000000000000000           0     0     1
   \[ 7\] \.symtab           SYMTAB           0000000000000000  .*
-       00000000000000c0  0000000000000018           8     8     8
-  \[ 8\] \.strtab           STRTAB           0000000000000000  .*
-       000000000000000c  0000000000000000           0     0     1
+       00000000000000c0  0000000000000018           6     8     8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/ia64/group-2.d b/gas/testsuite/gas/ia64/group-2.d
index 7370367..b12270a 100644
--- a/gas/testsuite/gas/ia64/group-2.d
+++ b/gas/testsuite/gas/ia64/group-2.d
@@ -2,7 +2,7 @@
 #as: -x
 #name: ia64 unwind group
 
-There are 12 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -25,12 +25,10 @@ Section Headers:
        0000000000000018  0000000000000000 ALG       5     5     8
   \[ 8\] \.rela\.gnu\.linkonc RELA             0000000000000000  .*
        0000000000000048  0000000000000018   I      10     7     8
-  \[ 9\] \.shstrtab         STRTAB           0000000000000000  [0-9a-f]+
-       0000000000000081  0000000000000000           0     0     1
+  \[ 9\] \.strtab           STRTAB           0000000000000000  .*
+       0000000000000077  0000000000000000           0     0     1
   \[10\] \.symtab           SYMTAB           0000000000000000  .*
-       00000000000000d8  0000000000000018          11     9     8
-  \[11\] \.strtab           STRTAB           0000000000000000  .*
-       0000000000000005  0000000000000000           0     0     1
+       00000000000000d8  0000000000000018           9     9     8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/ia64/secname-ilp32.d b/gas/testsuite/gas/ia64/secname-ilp32.d
index 4146307..4e8fd17 100644
--- a/gas/testsuite/gas/ia64/secname-ilp32.d
+++ b/gas/testsuite/gas/ia64/secname-ilp32.d
@@ -3,7 +3,7 @@
 #as: -milp32
 #source: secname.s
 
-There are 8 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
@@ -12,8 +12,7 @@ Section Headers:
   \[ 2\] .data             PROGBITS        00000000 000040 000000 00  WA  0   0  1
   \[ 3\] .bss              NOBITS          00000000 000040 000000 00  WA  0   0  1
   \[ 4\] .foo              PROGBITS        00000000 000040 000008 00  WA  0   0  8
-  \[ 5\] .shstrtab         STRTAB          00000000 [0-9a-f]+ 000031 00      0   0  1
-  \[ 6\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000050 10      7   5  4
-  \[ 7\] .strtab           STRTAB          00000000 [0-9a-f]+ 000001 00      0   0  1
+  \[ 5\] .strtab           STRTAB          00000000 [0-9a-f]+ 000027 00      0   0  1
+  \[ 6\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000050 10      5   5  4
 Key to Flags:
 #...
diff --git a/gas/testsuite/gas/ia64/secname.d b/gas/testsuite/gas/ia64/secname.d
index 79f1e33..b730a25 100644
--- a/gas/testsuite/gas/ia64/secname.d
+++ b/gas/testsuite/gas/ia64/secname.d
@@ -1,7 +1,7 @@
 #readelf: -S
 #name: ia64 section name
 
-There are 8 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -16,11 +16,9 @@ Section Headers:
        0000000000000000  0000000000000000  WA       0     0     1
   \[ 4\] \.foo              PROGBITS         0000000000000000  00000040
        0000000000000008  0000000000000000  WA       0     0     8
-  \[ 5\] \.shstrtab         STRTAB           0000000000000000  [0-9a-f]+
-       0000000000000031  0000000000000000           0     0     1
+  \[ 5\] \.strtab           STRTAB           0000000000000000  .*
+       0000000000000027  0000000000000000           0     0     1
   \[ 6\] \.symtab           SYMTAB           0000000000000000  .*
-       0000000000000078  0000000000000018           7     5     8
-  \[ 7\] \.strtab           STRTAB           0000000000000000  .*
-       0000000000000001  0000000000000000           0     0     1
+       0000000000000078  0000000000000018           5     5     8
 Key to Flags:
 #...
diff --git a/gas/testsuite/gas/ia64/unwind-ilp32.d b/gas/testsuite/gas/ia64/unwind-ilp32.d
index cd25b0d..1741faf 100644
--- a/gas/testsuite/gas/ia64/unwind-ilp32.d
+++ b/gas/testsuite/gas/ia64/unwind-ilp32.d
@@ -3,7 +3,7 @@
 #as: -milp32
 #source: unwind.s
 
-There are 9 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
@@ -13,8 +13,7 @@ Section Headers:
   \[ 3\] .bss              NOBITS          00000000 000040 000000 00  WA  0   0  1
   \[ 4\] .IA_64.unwind_inf PROGBITS        00000000 000040 000008 00   A  0   0  8
   \[ 5\] .IA_64.unwind     IA_64_UNWIND    00000000 000048 000008 00  AL  1   1  8
-  \[ 6\] .shstrtab         STRTAB          00000000 [0-9a-f]+ 00004d 00      0   0  1
-  \[ 7\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000060 10      8   6  4
-  \[ 8\] .strtab           STRTAB          00000000 [0-9a-f]+ 000001 00      0   0  1
+  \[ 6\] .strtab           STRTAB          00000000 [0-9a-f]+ 000043 00      0   0  1
+  \[ 7\] .symtab           SYMTAB          00000000 [0-9a-f]+ 000060 10      6   6  4
 Key to Flags:
 #...
diff --git a/gas/testsuite/gas/ia64/unwind.d b/gas/testsuite/gas/ia64/unwind.d
index ce71a7a..d79dfe2 100644
--- a/gas/testsuite/gas/ia64/unwind.d
+++ b/gas/testsuite/gas/ia64/unwind.d
@@ -1,7 +1,7 @@
 #readelf: -S
 #name: ia64 unwind section
 
-There are 9 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -18,11 +18,9 @@ Section Headers:
        0000000000000008  0000000000000000   A       0     0     8
   \[ 5\] \.IA_64\.unwind     IA_64_UNWIND     0000000000000000  00000048
        0000000000000008  0000000000000000  AL       1     1     8
-  \[ 6\] \.shstrtab         STRTAB           0000000000000000  [0-9a-f]+
-       000000000000004d  0000000000000000           0     0     1
+  \[ 6\] \.strtab           STRTAB           0000000000000000  .*
+       0000000000000043  0000000000000000           0     0     1
   \[ 7\] \.symtab           SYMTAB           0000000000000000  .*
-       0000000000000090  0000000000000018           8     6     8
-  \[ 8\] \.strtab           STRTAB           0000000000000000  .*
-       0000000000000001  0000000000000000           0     0     1
+       0000000000000090  0000000000000018           6     6     8
 Key to Flags:
 #...
diff --git a/gas/testsuite/gas/ia64/xdata-ilp32.d b/gas/testsuite/gas/ia64/xdata-ilp32.d
index 8c0bb30..7ef9f9e 100644
--- a/gas/testsuite/gas/ia64/xdata-ilp32.d
+++ b/gas/testsuite/gas/ia64/xdata-ilp32.d
@@ -3,7 +3,7 @@
 #as: -milp32
 #source: xdata.s
 
-There are 19 section headers, starting at offset 0x[[:xdigit:]]+:
+There are [0-9]+ section headers, starting at offset 0x[[:xdigit:]]+:
 
 Section Headers:
   \[Nr\] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
@@ -23,7 +23,6 @@ Section Headers:
   \[13\] \.xreal\[4\]         PROGBITS        00000000 [[:xdigit:]]+ 000020 00   A  0   0 16
   \[14\] \.xstr<1>          PROGBITS        00000000 [[:xdigit:]]+ 000003 00   A  0   0  1
   \[15\] \.xstr\{2\}          PROGBITS        00000000 [[:xdigit:]]+ 000004 00   A  0   0  1
-  \[16\] .shstrtab         STRTAB          00000000 [[:xdigit:]]+ [[:xdigit:]]+ 00      0   0  1
-  \[17\] .symtab           SYMTAB          00000000 [[:xdigit:]]+ [[:xdigit:]]+ 10     18  15  4
-  \[18\] .strtab           STRTAB          00000000 [[:xdigit:]]+ [[:xdigit:]]+ 00      0   0  1
+  \[16\] .strtab           STRTAB          00000000 [[:xdigit:]]+ [[:xdigit:]]+ 00      0   0  1
+  \[17\] .symtab           SYMTAB          00000000 [[:xdigit:]]+ [[:xdigit:]]+ 10     16  15  4
 #pass
diff --git a/gas/testsuite/gas/ia64/xdata.d b/gas/testsuite/gas/ia64/xdata.d
index dc23b78..43b9bba 100644
--- a/gas/testsuite/gas/ia64/xdata.d
+++ b/gas/testsuite/gas/ia64/xdata.d
@@ -1,7 +1,7 @@
 #readelf: -S
 #name: ia64 xdata
 
-There are 19 section headers, starting at offset 0x[[:xdigit:]]+:
+There are [0-9]+ section headers, starting at offset 0x[[:xdigit:]]+:
 
 Section Headers:
   \[Nr\] Name              Type             Address           Offset
@@ -38,10 +38,8 @@ Section Headers:
        0000000000000003  0000000000000000   A       0     0     1
   \[15\] \.xstr\{2\}          PROGBITS         0000000000000000  [[:xdigit:]]+
        0000000000000004  0000000000000000   A       0     0     1
-  \[16\] \.shstrtab         STRTAB           0000000000000000  [[:xdigit:]]+
+  \[16\] \.strtab           STRTAB           0000000000000000  [[:xdigit:]]+
        [[:xdigit:]]+  0000000000000000           0     0     1
   \[17\] \.symtab           SYMTAB           0000000000000000  [[:xdigit:]]+
-       [[:xdigit:]]+  0000000000000018          18    15     8
-  \[18\] \.strtab           STRTAB           0000000000000000  [[:xdigit:]]+
-       [[:xdigit:]]+  0000000000000000           0     0     1
+       [[:xdigit:]]+  0000000000000018          16    15     8
 #pass
diff --git a/gas/testsuite/gas/mmix/bspec-1.d b/gas/testsuite/gas/mmix/bspec-1.d
index a18d242..7ec18d87 100644
--- a/gas/testsuite/gas/mmix/bspec-1.d
+++ b/gas/testsuite/gas/mmix/bspec-1.d
@@ -1,5 +1,5 @@
 #readelf: -Ssr -x1 -x4
-There are 9 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 #...
  +\[ 4\] \.MMIX\.spec_data\.2 +PROGBITS +0+ +0+44
  +0+4 +0+ +0 +0 +4
diff --git a/gas/testsuite/gas/mmix/bspec-2.d b/gas/testsuite/gas/mmix/bspec-2.d
index a9ce03d..4ce225b 100644
--- a/gas/testsuite/gas/mmix/bspec-2.d
+++ b/gas/testsuite/gas/mmix/bspec-2.d
@@ -1,5 +1,5 @@
 #readelf: -Sr -x1 -x4
-There are 11 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 #...
   \[ 4\] \.MMIX\.spec_data\.2 PROGBITS         0+  0+48
        0+10  0+           0     0     8
diff --git a/gas/testsuite/gas/mmix/byte-1.d b/gas/testsuite/gas/mmix/byte-1.d
index b6c2768..a049e2a 100644
--- a/gas/testsuite/gas/mmix/byte-1.d
+++ b/gas/testsuite/gas/mmix/byte-1.d
@@ -1,5 +1,5 @@
 #readelf: -Ssrx1
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -12,12 +12,10 @@ Section Headers:
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
  +\[ 3\] \.bss +NOBITS +0000000000000000 +00000056
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +000000000000002c +0000000000000000 +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0000000000000000 .*
+ +0000000000000039 +0000000000000000 +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0000000000000000 .*
- +00000000000000c0 +0000000000000018 +6 +7 +8
- +\[ 6\] \.strtab +STRTAB +0000000000000000 .*
- +0000000000000018 +0000000000000000 +0 +0 +1
+ +00000000000000c0 +0000000000000018 +4 +7 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/mmix/comment-1.d b/gas/testsuite/gas/mmix/comment-1.d
index 82559fe..ea397fe 100644
--- a/gas/testsuite/gas/mmix/comment-1.d
+++ b/gas/testsuite/gas/mmix/comment-1.d
@@ -1,6 +1,6 @@
 #as: -no-expand
 #readelf: -Ssrx1 -x6
-There are 10 section headers, starting at offset 0x...:
+There are [0-9]+ section headers, starting at offset 0x...:
 #...
  +\[ 5\] \.MMIX\.spec_data\.4 +PROGBITS +0+ +0+c4
  +0+ +0+ +0 +0 +1
diff --git a/gas/testsuite/gas/mmix/group-1.d b/gas/testsuite/gas/mmix/group-1.d
index a464e35..b574cb7 100644
--- a/gas/testsuite/gas/mmix/group-1.d
+++ b/gas/testsuite/gas/mmix/group-1.d
@@ -4,7 +4,7 @@
 # See PR gas/14521.
 
 #...
- +\[ .\] \.text +PROGBITS +0+ +0+48 +0+ +0+ +AXG +.*
+ +\[ .\] \.text +PROGBITS +0+ +0+40 +0+ +0+ +AXG +.*
 #...
 COMDAT group section \[    1\] `\.group' \[\.foo\] contains 1 sections:
  +\[Index\] +Name
diff --git a/gas/testsuite/gas/mmix/loc-1.d b/gas/testsuite/gas/mmix/loc-1.d
index e45b1d5..6fc43b1 100644
--- a/gas/testsuite/gas/mmix/loc-1.d
+++ b/gas/testsuite/gas/mmix/loc-1.d
@@ -1,6 +1,6 @@
 #readelf: -Ssrx1 -x2
 
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -13,12 +13,10 @@ Section Headers:
  +0000000000000004 +0000000000000000 +WA +0 +0 +4
  +\[ 3\] \.bss +NOBITS +0000000000000000 +00000064
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +000000000000002c +0000000000000000 +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0000000000000000 .*
+ +0000000000000045 +0000000000000000 +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0000000000000000 .*
- +00000000000000c0 +0000000000000018 +6 +6 +8
- +\[ 6\] \.strtab +STRTAB +0000000000000000 .*
- +000000000000002a +0000000000000000 +0 +0 +1
+ +00000000000000c0 +0000000000000018 +4 +6 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/mmix/loc-2.d b/gas/testsuite/gas/mmix/loc-2.d
index b92cabb..c35820a 100644
--- a/gas/testsuite/gas/mmix/loc-2.d
+++ b/gas/testsuite/gas/mmix/loc-2.d
@@ -1,6 +1,6 @@
 #readelf: -Ssrx1
 
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -13,12 +13,10 @@ Section Headers:
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
  +\[ 3\] \.bss +NOBITS +0000000000000000 +00000048
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +000000000000002c +0000000000000000 +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0000000000000000 .*
+ +0000000000000035 +0000000000000000 +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0000000000000000 .*
- +0000000000000090 +0000000000000018 +6 +4 +8
- +\[ 6\] \.strtab +STRTAB +0000000000000000 .*
- +000000000000001a +0000000000000000 +0 +0 +1
+ +0000000000000090 +0000000000000018 +4 +4 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/mmix/loc-3.d b/gas/testsuite/gas/mmix/loc-3.d
index 2c477db..719608c 100644
--- a/gas/testsuite/gas/mmix/loc-3.d
+++ b/gas/testsuite/gas/mmix/loc-3.d
@@ -1,5 +1,5 @@
 #readelf: -Ssrx1 -x2
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -12,12 +12,10 @@ Section Headers:
  +0000000000000008 +0000000000000000 +WA +0 +0 +4
  +\[ 3\] \.bss +NOBITS +0000000000000000 +00000054
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +000000000000002c +0000000000000000 +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0000000000000000 .*
+ +0000000000000043 +0000000000000000 +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0000000000000000 .*
- +00000000000000c0 +0000000000000018 +6 +5 +8
- +\[ 6\] \.strtab +STRTAB +0000000000000000 .*
- +000000000000002e +0000000000000000 +0 +0 +1
+ +00000000000000c0 +0000000000000018 +4 +5 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/mmix/loc-4.d b/gas/testsuite/gas/mmix/loc-4.d
index 1efc084..b38ce95 100644
--- a/gas/testsuite/gas/mmix/loc-4.d
+++ b/gas/testsuite/gas/mmix/loc-4.d
@@ -1,5 +1,5 @@
 #readelf: -Ssrx1 -x2
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -12,12 +12,10 @@ Section Headers:
  +0000000000000004 +0000000000000000 +WA +0 +0 +4
  +\[ 3\] \.bss +NOBITS +0000000000000000 +0000005c
  +0000000000000000 +0000000000000000 +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0000000000000000 +[0-9a-f]+
- +000000000000002c +0000000000000000 +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0000000000000000 .*
+ +0000000000000050 +0000000000000000 +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0000000000000000 .*
- +00000000000000c0 +0000000000000018 +6 +5 +8
- +\[ 6\] \.strtab +STRTAB +0000000000000000 .*
- +000000000000003b +0000000000000000 +0 +0 +1
+ +00000000000000c0 +0000000000000018 +4 +5 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/mmix/loc-5.d b/gas/testsuite/gas/mmix/loc-5.d
index fa80a86..992ed21 100644
--- a/gas/testsuite/gas/mmix/loc-5.d
+++ b/gas/testsuite/gas/mmix/loc-5.d
@@ -1,5 +1,5 @@
 #readelf: -Ssrx1 -x2
-There are 7 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
  +\[Nr\] +Name +Type +Address +Offset
@@ -12,12 +12,10 @@ Section Headers:
  +0+24 +0+ +WA +0 +0 +4
  +\[ 3\] \.bss +NOBITS +0+ +0+6c
  +0+ +0+ +WA +0 +0 +1
- +\[ 4\] \.shstrtab +STRTAB +0+ +[0-9a-f]+
- +0+2c +0+ +0 +0 +1
+ +\[ 4\] \.strtab +STRTAB +0+ .*
+ +0+42 +0+ +0 +0 +1
  +\[ 5\] \.symtab +SYMTAB +0+ .*
- +0+c0 +0+18 +6 +6 +8
- +\[ 6\] \.strtab +STRTAB +0+ .*
- +0+27 +0+ +0 +0 +1
+ +0+c0 +0+18 +4 +6 +8
 Key to Flags:
 #...
 
diff --git a/gas/testsuite/gas/tic6x/scomm-directive-4.d b/gas/testsuite/gas/tic6x/scomm-directive-4.d
index 18497ec..2c7cc8e 100644
--- a/gas/testsuite/gas/tic6x/scomm-directive-4.d
+++ b/gas/testsuite/gas/tic6x/scomm-directive-4.d
@@ -3,7 +3,7 @@
 #source: scomm-directive-4.s
 #readelf: -Ss
 
-There are 8 section headers, starting at offset .*:
+There are [0-9]+ section headers, starting at offset .*:
 
 Section Headers:
   \[Nr\] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
@@ -12,9 +12,8 @@ Section Headers:
   \[ 2\] \.data             PROGBITS        00000000 000034 000000 00  WA  0   0  1
   \[ 3\] \.bss              NOBITS          00000000 000034 000000 00  WA  0   0  1
   \[ 4\] \.c6xabi\.attribute C6000_ATTRIBUTE 00000000 000034 000013 00      0   0  1
-  \[ 5\] \.shstrtab         STRTAB          00000000 [0-9a-f]+ 00003f 00      0   0  1
-  \[ 6\] \.symtab           SYMTAB          00000000 [0-9a-f]+ 0000d0 10      7   5  4
-  \[ 7\] \.strtab           STRTAB          00000000 [0-9a-f]+ 00001d 00      0   0  1
+  \[ 5\] \.strtab           STRTAB          00000000 [0-9a-f]+ 000051 00      0   0  1
+  \[ 6\] \.symtab           SYMTAB          00000000 [0-9a-f]+ 0000d0 10      5   5  4
 Key to Flags:
   W \(write\), A \(alloc\), X \(execute\), M \(merge\), S \(strings\)
   I \(info\), L \(link order\), G \(group\), T \(TLS\), E \(exclude\), x \(unknown\)
-- 
2.1.0

